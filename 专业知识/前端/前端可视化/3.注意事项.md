## canvas 和 dom 绘制

canvas 绘制元素的时候，其单位通常都是以像素来统计的，且其设置的像素，是真实屏幕上的像素点数量，
而我们通过 css 设置的像素并不是真实屏幕的像素点数量，其与 dpr 有关，

所以有可能会出现以下情况：即通过 css 设置画布宽高，之后再在 canvas 中绘制元素的时候设置与画布相同宽高的像素，元素并不能占满画布，甚至对于尺寸的预估还差了一大截。为了解决这一问题，我们需要获取 canvas 画布中真实宽高的像素点数量，才能更好的设置元素的宽高

在网页设计和开发中，`canvas` 和 CSS 都是常用的技术，用于在网页上绘制图形和布局。它们之间的 `px`（像素）单位有一些关键的区别：

1. **Canvas 像素**：

   - 在 HTML5 `<canvas>` 元素中，`px` 是实际的像素点。这意味着在 canvas 上绘制的每个像素都是独立且等大的。
   - Canvas 的像素是设备无关的，即它们在不同的设备上可能有不同的物理尺寸，但是逻辑上它们是一致的。
   - Canvas 通常用于绘制图形、图表、游戏等，需要精确控制像素的场景。

2. **CSS 像素**：

   - 在 CSS 中，`px` 是一种相对单位，用于定义元素的大小、间距和位置。CSS 像素（CSS 单位）通常用于布局和样式。
   - CSS 像素可以受到多种因素的影响，如屏幕分辨率、缩放级别和浏览器的渲染方式。
   - CSS 像素用于响应式设计，可以根据不同设备的屏幕尺寸和分辨率进行缩放。

3. **缩放和分辨率**：

   - Canvas 的像素在缩放时可能会变得模糊，因为它们是固定大小的像素点。
   - CSS 像素在缩放时会根据屏幕的分辨率进行调整，以保持元素的相对大小和比例。

4. **渲染方式**：

   - Canvas 使用 GPU 加速的 2D 或 WebGL 上下文来渲染图形，这通常比 CSS 更适合复杂的图形和动画。
   - CSS 通过浏览器的布局引擎进行渲染，适合简单的形状和文本，以及响应式布局。

5. **控制级别**：

   - Canvas 提供了较低级别的像素控制，允许开发者直接操作每个像素。
   - CSS 提供了较高级别的布局控制，允许开发者定义元素的样式和行为，而不需要关心单个像素。

6. **性能**：
   - Canvas 由于其低级控制，可能在处理大量像素时提供更好的性能，特别是在动画和实时图形处理方面。
   - CSS 在处理静态布局和简单动画时通常更高效，因为它可以利用浏览器的优化和硬件加速。

总结来说，Canvas 的 `px` 是实际的像素点，适合精确的图形绘制；而 CSS 的 `px` 是相对单位，适合响应式布局和样式定义。选择使用 Canvas 还是 CSS，取决于你的具体需求和目标。

## 像素

1、设备像素(device independent pixels): 设备屏幕的物理像素，任何设备的物理像素的数量都是固定的；

2、CSS 像素(CSS pixels): 又称为逻辑像素，是为 web 开发者创造的，在 CSS 和 javascript 中使用的一个抽象的层每一个 CSS 声明和几乎所有的 javascript 属性都使用 CSS 像素，因此实际上从来用不上设备像素 ，唯一的例外是 screen.width/height

## 像素比

https://developer.mozilla.org/zh-CN/docs/Web/API/Window/devicePixelRatio

window.devicePixelRatio

当前显示设备的   物理像素分辨率 与 CSS 像素分辨率 之比。

此值也可以解释为像素大小的比率：一个 CSS 像素的大小与一个物理像素的大小。简单来说，它告诉浏览器应使用多少屏幕实际像素来绘制单个 CSS 像素。

window.devicePixelRatio  = 1； 1 个物理像素 绘制 一个 css 像素 1px

window.devicePixelRatio  = 2；2 个物理像素 绘制 一个 css 像素 1px；因此越大越清晰

css 像素是一直不变的，浏览器放大时设备独立像素减小，所以 dpr 增大

像素比浏览器放大：dpr 增大，需要多个物理像素才能绘制一个 css px

浏览器缩小：dpr 减小

物理分辨率 一个设备屏幕能放多少像素点
